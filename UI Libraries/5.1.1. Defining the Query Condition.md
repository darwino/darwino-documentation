# Defining the query condition

A query points to a database and a store. If nothing else is provided, then all the documents from the store are retrieved

## Adding a query condition
A query condition is defined by the `query` attribute in the query definition:

    {
      "query": "{firstName: 'Jones'}",
    }
This uses the standard Darwino query language and can be as complex as needed. Some examples are available in the playground:
https://playground.darwino.com/playground.nsf/DarwinoDbSnippets.xsp#snippet=Queries_-_SQL_Optimization/

## Ordering the result
The default order in the view grid is the order returned by the server query. 

## Grouping the entries
The Darwino query engine has a capability for grouping rows but it is generally more efficient, and more flexible, to let the view grid do it with the local data. Note that the orderBy option above should match these columns to make it work properly:

    groupBy: [
        {column:"Industry"}, // formatter: null
        {column:"State"}
    ],

When a user choose a different order by clicking a column, then the category rows are hidden.

## Selecting Notes/Domino documents based on a form
When documents are replicated from Notes/Domino, then the Form field contains the form and a query can be applied as bellow:

    {
      "query": "{form: 'Company'}",
    }

## Retrieving children documents
Children documents can be retrieved using the `parentid` attribute. Generally, this parent ID should not be hard coded in the query itself, but passed dynamically from the view component. This is done in the UI Grid component itself. The `Company.jsx` form shows how to display an embedded view using the current document as the parent:
{% raw %}
        <CursorGrid
          databaseId={Constants.DATABASE}
          params={{
            name: "AllCompanyDocuments",
            parentid: this.state.unid
          }}
          showResponses={true}
          columns={[
            {name: "Title", key: "Title", sortable: true, sortField: 'title'},
          ]}
        />
{% raw %}